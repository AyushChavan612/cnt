Understanding Protocol Stack of Intranet
1. Introduction
An intranet is a private network that uses the same communication protocols
as the Internet (TCP/IP) but is restricted to an organization. To enable
communication, data passes through a protocol stack, where each layer
provides specific services to the upper layers.
The most common model is the TCP/IP protocol stack, which includes:
1. Application Layer – Provides services such as HTTP, FTP, DNS,
Email, etc.
2. Transport Layer – Ensures reliable or fast delivery using TCP
(Transmission Control Protocol) or UDP (User Datagram Protocol).
3. Network Layer – Responsible for addressing and routing using IP
(Internet Protocol).
4. Data Link Layer – Provides framing, error detection, and medium
access using Ethernet.
5. Physical Layer – Transmits raw bits over cables (wired intranet) or
wireless signals.
2. Protocol Stack in Intranet Communication
When a user sends data (e.g., accessing a file on another computer), it flows
through the layers:
● Application Layer: Data generated by user applications.
● Transport Layer: Adds TCP/UDP header for segmentation, ports, and
reliability.
● Network Layer: Adds IP header containing source & destination IP
addresses.
● Data Link Layer: Adds Ethernet frame (MAC addresses, error check).
● Physical Layer: Converts frame into electrical signals over wired
cables.
At the receiver, the process is reversed (decapsulation).
3. Packet Formats Analyzed using Wireshark
Wireshark is a network protocol analyzer used to capture and inspect packets.
Below are the main headers captured for Ethernet, IP, TCP, and UDP in a
wired network.
(a) Ethernet Frame Format
Captured in Wireshark at Data Link Layer.
● Fields:
○ Destination MAC Address (6 bytes)
○ Source MAC Address (6 bytes)
○ EtherType (2 bytes) → indicates next protocol (e.g., 0x0800 for
IPv4)
○ Payload (46–1500 bytes)
○ Frame Check Sequence (4 bytes)
Example (from Wireshark):
Ethernet II
Destination: 3c:97:0e:12:34:56
Source: 8c:85:90:65:43:21
Type: IPv4 (0x0800)
(b) IP Packet Format (IPv4)
Captured at Network Layer.
● Fields:
○ Version (4 bits) → IPv4
○ Header Length (4 bits)
○ Total Length (16 bits)
○ Identification, Flags, Fragment Offset
○ Time to Live (TTL)
○ Protocol (TCP=6, UDP=17)
○ Header Checksum
○ Source IP Address (32 bits)
○ Destination IP Address (32 bits)
Example (from Wireshark):
Internet Protocol Version 4
Source: 192.168.1.10
Destination: 142.250.182.238
Protocol: TCP (6)
Time to Live: 64
(c) TCP Segment Format
Captured at Transport Layer (reliable delivery).
● Fields:
○ Source Port (16 bits)
○ Destination Port (16 bits)
○ Sequence Number (32 bits)
○ Acknowledgment Number (32 bits)
○ Header Length, Flags (SYN, ACK, FIN, etc.)
○ Window Size
○ Checksum
○ Urgent Pointer
Example (from Wireshark):
Transmission Control Protocol
Source Port: 49502
Destination Port: 443 (HTTPS)
Sequence Number: 123456789
Acknowledgment Number: 987654321
Flags: ACK, PSH
Window Size: 65535
(d) UDP Segment Format
Captured at Transport Layer (fast, unreliable delivery).
● Fields:
○ Source Port (16 bits)
○ Destination Port (16 bits)
○ Length (16 bits)
○ Checksum (16 bits)
Example (from Wireshark):
User Datagram Protocol
Source Port: 5678
Destination Port: 53 (DNS)
Length: 50
Checksum: 0x9c5b
4. Conclusion
The protocol stack in an intranet ensures seamless communication between
computers. Each layer adds its own header, forming a packet/frame. By using
Wireshark, we can analyze these packet formats:
● Ethernet provides MAC addressing and framing.
● IP ensures logical addressing and routing.
● TCP/UDP provide reliable or fast transport.
● Together, these protocols enable efficient wired communication in an
intranet.